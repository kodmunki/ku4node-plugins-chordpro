var $kernel = require('ku4node-kernel'),
    $ = $kernel.asserters,
    $json = require('../../lib/data/json'),
    $str = '{"a":null,"b":undefined,"man":{"sex":"m","age":25,"married":true,"children":["Tom","Dick","Jane"],"contact":{"home":9998887777}}}',
    $obj = {a:null, b:undefined, man:{sex:"m", age:25, married:true, children:["Tom","Dick","Jane"], contact:{"home":9998887777}}};

exports['serialize'] = function (test) {
    test.expect(1);
    test.equal($json.serialize($obj), $str);
    test.done();
};
exports['deserialize'] = function (test) {
    test.expect(2);
    var man = $json.deserialize($str);
    test.equal(man.man.sex, "m");
    test.equal(man.man.age, 25);
    test.done();
};